<MyLayout>
    size_hint: .9, .9
    pos_hint: {'center_x': .5, 'center_y': .5}
    do_default_tab: False
    TabbedPanelItem:
        text: 'main tab'
        BoxLayout:
            orientation: "vertical"
            size: root.width - 200, root.height - 200
            pos: 100, 100
            Label:
                id: key_label
                text: "Key"
                font_size: 32

            Spinner:
                id: spinner_key_id
                text: "Choose Key"
                values: ["C", "C#", "Db", "D", "D#", "Eb", "E", "F", "F#", "Gb", "G", "G#", "Ab", "A", "A#", "Bb", "B"]
                on_text: root.update_label("spinner_key_id", spinner_key_id.text)

            Label:
                id: scale_label
                text: "Scale"
                font_size: 32

            Spinner:
                id: spinner_scale_id
                text: "Choose scale"
                values: ["Major", "Minor", "Harmonic Minor"]
                on_text: root.update_label("spinner_scale_id", spinner_scale_id.text)

            Label:
                id: octave_label
                text: "Octave"
                font_size: 32

            Spinner:
                id: spinner_octave_id
                text: "Choose octave"
                values: ["0", "1", "2", "3", "4", "5", "6", "7"]
                on_text: root.update_label("spinner_octave_id", spinner_octave_id.text)

            Label:
                id: bars_label
                text: "Number of Bars"
                font_size: 32

            TextInput:
                id: input_bars_id
                multiline:False
                on_text: root.update_label("input_bars_id", input_bars_id.text)


            Label:
                id: numnotes_label
                text: "Number of notes in your melody"
                font_size: 32

            TextInput:
                id: input_numnotes_id
                multiline:False
                on_text: root.update_label("input_numnotes_id", input_numnotes_id.text)


            Button:
                text: 'Generate Chord'
                on_press: root.main(spinner_key_id.text, spinner_scale_id.text, spinner_octave_id.text, input_numnotes_id.text, input_bars_id.text)
                on_release: print("Chord MIDI file written to out.mid!")

            Button:
                text: 'Save Melody'
                on_press: root.save_melody()
                on_release: print("Melody saved!")
    TabbedPanelItem:
        text: 'melody stack'
        BoxLayout:
            orientation: "vertical"
            size: root.width - 200, root.height - 200
            pos: 100, 100
            Label:
                id: key_label
                text: "Key"
                font_size: 32