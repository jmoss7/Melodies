<MyLayout>
    size_hint: .9, .9
    pos_hint: {'center_x': .5, 'center_y': .5}
    do_default_tab: False
    TabbedPanelItem:
        text: 'main tab'
        BoxLayout:
            orientation: "vertical"
            size: root.width - 200, root.height - 200
            pos: 100, 100
            Label:
                id: key_label
                text: "Key"
                font_size: 32

            Spinner:
                id: spinner_key_id
                text: "Choose Key"
                values: ["C", "C#", "Db", "D", "D#", "Eb", "E", "F", "F#", "Gb", "G", "G#", "Ab", "A", "A#", "Bb", "B"]
                on_text: root.update_label("spinner_key_id", spinner_key_id.text)

            Label:
                id: scale_label
                text: "Scale"
                font_size: 32

            Spinner:
                id: spinner_scale_id
                text: "Choose scale"
                values: ["Major", "Minor", "Harmonic Minor"]
                on_text: root.update_label("spinner_scale_id", spinner_scale_id.text)

            Label:
                id: octave_label
                text: "Octave"
                font_size: 32

            Spinner:
                id: spinner_octave_id
                text: "Choose octave"
                values: ["0", "1", "2", "3", "4", "5", "6", "7"]
                on_text: root.update_label("spinner_octave_id", spinner_octave_id.text)

            Label:
                id: bars_label
                text: "Number of Bars"
                font_size: 32

            TextInput:
                id: input_bars_id
                multiline:False
                on_text: root.update_label("input_bars_id", input_bars_id.text)

            Label:
                id: numnotes_label
                text: "Number of notes in your melody"
                font_size: 32

            TextInput:
                id: input_numnotes_id
                multiline:False
                on_text: root.update_label("input_numnotes_id", input_numnotes_id.text)

            Button:
                text: 'Generate Chord'
                on_press: root.main(spinner_key_id.text, spinner_scale_id.text, spinner_octave_id.text, input_numnotes_id.text, input_bars_id.text)
                on_release: print("Chord MIDI file written to out.mid!")

            Button:
                text: 'Save Melody'
                on_press: root.save_melody()
                on_release: print("Melody saved!")

            Button:
                text: 'Add Last Generated to Stack'
                on_press: root.addMelToStack()
                on_release: print("added to stack")

    TabbedPanelItem:
        text: 'melody stack'
        FloatLayout:
            orientation: "vertical"
            size: root.width - 200, root.height - 200
            Label:
                id: spot1
                font_size: 22
            Button:
                id: but1
                text: "play"
                font_size: 16
                size_hint: .1, .05
                pos_hint: {'center_x':.823, 'center_y':.95}
                background_color: 1.0, 0.0, 0.0, 1.0
                on_press: root.playIndMel(1)
            Button:
                id: but1Del
                text: "delete"
                font_size: 16
                size_hint: .1, .05
                pos_hint: {'center_x':.94, 'center_y':.95}
                on_press: root.delIndMel(1)
                Image:
                    id: spot1text
                    source: 'images/spot1.png'
                    width: 200
                    height: 200
                    center_x: self.parent.center_x - 400
                    center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot2
                    font_size: 22
                Button:
                    id: but2
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.923}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(2)
                Button:
                    id: but2Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.923}
                    on_press: root.delIndMel(2)
                    Image:
                        id: spot1text
                        source: 'images/spot2.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot3
                    font_size: 22
                Button:
                    id: but3
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.835}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(3)
                Button:
                    id: but3Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.835}
                    on_press: root.delIndMel(3)
                    Image:
                        id: spot1text
                        source: 'images/spot3.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot4
                    font_size: 22
                Button:
                    id: but4
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.747}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(4)
                Button:
                    id: but4Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.747}
                    on_press: root.delIndMel(4)
                    Image:
                        id: spot1text
                        source: 'images/spot4.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot5
                    font_size: 22
                Button:
                    id: but5
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.659}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(5)
                Button:
                    id: but5Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.659}
                    on_press: root.delIndMel(5)
                    Image:
                        id: spot1text
                        source: 'images/spot5.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot6
                    font_size: 22
                Button:
                    id: but6
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.571}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(6)
                Button:
                    id: but6Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.571}
                    on_press: root.delIndMel(6)
                    Image:
                        id: spot1text
                        source: 'images/spot6.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot7
                    font_size: 22
                Button:
                    id: but7
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.483}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(7)
                Button:
                    id: but7Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.483}
                    on_press: root.delIndMel(7)
                    Image:
                        id: spot1text
                        source: 'images/spot7.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot8
                    font_size: 22
                Button:
                    id: but8
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.395}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(8)
                Button:
                    id: but8Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.395}
                    on_press: root.delIndMel(8)
                    Image:
                        id: spot1text
                        source: 'images/spot8.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot9
                    font_size: 22
                Button:
                    id: but9
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.307}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(9)
                Button:
                    id: but9Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.307}
                    on_press: root.delIndMel(9)
                    Image:
                        id: spot1text
                        source: 'images/spot9.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: spot10
                    font_size: 22
                Button:
                    id: but10
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.219}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playIndMel(10)
                Button:
                    id: but10Del
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.219}
                    on_press: root.delIndMel(10)
                    Image:
                        id: spot1text
                        source: 'images/spot10.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y
            FloatLayout:
                orientation: "vertical"
                Label:
                    id: fullStack
                    font_size: 22
                Button:
                    id: fullStackBut
                    text: "play"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.88, 'center_y':.131}
                    background_color: 1.0, 0.0, 0.0, 1.0
                    on_press: root.playMelStack()
                Button:
                    id: fullStackButDel
                    text: "delete"
                    font_size: 16
                    size_hint: .1, .05
                    pos_hint: {'center_x':.995, 'center_y':.131}
                    on_press: root.clearStack()
                    on_release: print("stack cleared")
                    Image:
                        id: spot1text
                        source: 'images/fullstack.png'
                        width: 205
                        height: 200
                        center_x: self.parent.center_x - 400
                        center_y: self.parent.center_y